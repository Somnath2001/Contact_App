(this["webpackJsonpeleven-realtime-database-starter"]=this["webpackJsonpeleven-realtime-database-starter"]||[]).push([[0],{38:function(e,t,a){e.exports=a(63)},43:function(e,t,a){},47:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(19),o=a.n(r),l=(a(43),a(14)),s=a.n(l),i=a(22),m=a(10),u=a(68),p=a(17),d=a(16),b=a(13),f=(a(45),a(46),a(47),{quality:.2,maxWidth:800,maxHeight:600,autoRotate:!0}),E=a(8),h=a.n(E),g=(a(48),a(64),a(69)),y=a(70),v=a(71),N=a(72),O=a(73),j=a(74),x=a(75),C=a(35),T=a(85),k=Object(n.createContext)(),w=function(){var e=Object(n.useContext)(k),t=e.state,a=e.dispatch,r=t.contactToUpdate,o=t.contactToUpdateKey,l=Object(d.f)(),p=Object(n.useState)(""),E=Object(m.a)(p,2),w=E[0],S=E[1],A=Object(n.useState)(""),_=Object(m.a)(A,2),U=_[0],D=_[1],I=Object(n.useState)(""),L=Object(m.a)(I,2),P=L[0],G=L[1],R=Object(n.useState)(""),B=Object(m.a)(R,2),K=B[0],V=B[1],M=Object(n.useState)(!1),J=Object(m.a)(M,2),X=J[0],q=J[1],z=Object(n.useState)(null),W=Object(m.a)(z,2),F=W[0],H=W[1],$=Object(n.useState)(!1),Q=Object(m.a)($,2),Y=Q[0],Z=Q[1],ee=Object(n.useState)(!1),te=Object(m.a)(ee,2),ae=te[0],ne=te[1];Object(n.useEffect)((function(){r&&(S(r.name),D(r.email),G(r.phoneNumber),V(r.address),Z(r.star),H(r.picture),ne(!0))}),[r]);var ce=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,c,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.target.files[0],n={contentType:a.type},e.next=5,Object(C.readAndCompressImage)(a,f);case 5:return c=e.sent,e.next=8,h.a.storage().ref();case 8:r=e.sent,(o=r.child("images/"+a.name).put(c,n)).on(h.a.storage.TaskEvent.STATE_CHANGED,(function(e){q(!0);var t=e.bytesTransferred/e.totalBytes*100;switch(e.state){case h.a.storage.TaskState.PAUSED:q(!1),console.log("UPloading is paused");break;case h.a.storage.TaskState.RUNNING:console.log("UPloading is in progress...")}100==t&&(q(!1),Object(b.b)("uploaded",{type:"success"}))}),(function(e){Object(b.b)("something is wrong in state change",{type:"error"})}),(function(){o.snapshot.ref.getDownloadURL().then((function(e){H(e)})).catch((function(e){return console.log(e)}))})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),Object(b.b)("Something went wrong",{type:"error"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{h.a.database().ref("contacts/"+Object(T.a)()).set({name:w,email:U,phoneNumber:P,address:K,picture:F,star:Y})}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{h.a.database().ref("contacts/"+o).set({name:w,email:U,phoneNumber:P,address:K,picture:F,star:Y})}catch(t){console.log(t),Object(b.b)("Oppss..",{type:"error"})}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(u.a,{fluid:!0,className:"mt-5"},c.a.createElement(g.a,null,c.a.createElement(y.a,{md:"6",className:"offset-md-3 p-2"},c.a.createElement(v.a,{onSubmit:function(e){e.preventDefault(),ae?oe():re(),Object(b.b)("Success",{type:"success"}),a({type:"CONTACT_TO_UPDATE",payload:null,key:null}),l.push("/")}},c.a.createElement("div",{className:"text-center"},X?c.a.createElement("button",{class:"btn btn-primary",type:"button",disabled:!0},c.a.createElement("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),c.a.createElement("span",{class:"sr-only"},"Loading...")):c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"imagepicker",className:""},c.a.createElement("img",{src:F,alt:"",className:"profile"})),c.a.createElement("input",{type:"file",name:"image",id:"imagepicker",accept:"image/*",multiple:!1,onChange:function(e){return ce(e)},className:"hidden"}))),c.a.createElement("br",null),c.a.createElement(N.a,null,c.a.createElement(O.a,{type:"text",name:"name",id:"name",placeholder:"Name",value:w,onChange:function(e){return S(e.target.value)}})),c.a.createElement(N.a,null,c.a.createElement(O.a,{type:"email",name:"email",id:"email",value:U,onChange:function(e){return D(e.target.value)},placeholder:"Email"})),c.a.createElement(N.a,null,c.a.createElement(O.a,{type:"number",name:"number",id:"phonenumber",value:P,onChange:function(e){return G(e.target.value)},placeholder:"phone number"})),c.a.createElement(N.a,null,c.a.createElement(O.a,{type:"textarea",name:"area",id:"area",value:K,onChange:function(e){return V(e.target.value)},placeholder:"address"})),c.a.createElement(N.a,{check:!0},c.a.createElement(j.a,{check:!0},c.a.createElement(O.a,{type:"checkbox",onChange:function(){Z(!Y)},checked:Y})," ",c.a.createElement("span",{className:"text-right"},"Mark as Star"))),c.a.createElement(x.a,{type:"submit",color:"primary",block:!0,className:"text-uppercase"},ae?"Update Contact":"Add Contact")))))},S=a(76),A=a(77),_=a(18),U=a(21),D=function(e){var t=e.contact,a=e.contactKey,r=Object(n.useContext)(k).dispatch,o=Object(d.f)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,null,c.a.createElement(y.a,{md:"1",className:"d-flex justify-content-center align-items-center"},c.a.createElement("div",{className:"icon",onClick:function(){h.a.database().ref("/contacts/".concat(a)).update({star:!t.star},(function(e){console.log(e)})).then((function(){Object(b.b)("Contact Updated",{type:"info"})})).catch((function(e){return console.log(e)}))}},t.star?c.a.createElement(_.e,{className:" text-primary"}):c.a.createElement(_.d,{className:" text-info"}))),c.a.createElement(y.a,{md:"2",className:"d-flex justify-content-center align-items-center"},c.a.createElement("img",{src:t.picture,alt:"",className:"img-circle profile"})),c.a.createElement(y.a,{md:"8",onClick:function(){return function(e){r({type:"SET_SINGLE_CONTACT",payload:e}),o.push("/contact/view")}(t)}},c.a.createElement("div",{className:"text-primary"},t.name),c.a.createElement("div",{className:"text-secondary"},t.phoneNumber),c.a.createElement("div",{className:"text-secondary"},t.email),c.a.createElement("div",{className:"text-info"},t.address)),c.a.createElement(y.a,{md:"1",className:"d-flex justify-content-center align-items-center"},c.a.createElement(U.b,{onClick:function(){h.a.database().ref("/contacts/".concat(a)).remove().then((function(){Object(b.b)("Deleted Successfully",{type:"warning"})})).catch((function(e){return console.log(e)}))},color:"danger",className:"text-danger icon"}),c.a.createElement(U.c,{className:"icon text-info ml-2",onClick:function(){return r({type:"CONTACT_TO_UPDATE",payload:t,key:a}),void o.push("/contact/add")}}))))},I=function(){var e=Object(n.useContext)(k),t=e.state,a=e.dispatch,r=t.contacts,o=t.isLoading,l=Object(d.f)();return o?c.a.createElement("div",{className:"Center"},c.a.createElement("button",{class:"btn btn-primary",type:"button",disabled:!0},c.a.createElement("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading...")):c.a.createElement(u.a,{className:"mt-4"},0!==r.length||o?c.a.createElement(S.a,null,Object.entries(r).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return c.a.createElement(A.a,{key:a},c.a.createElement(D,{contact:n,contactKey:a}))}))):c.a.createElement("div",{className:"Center text-large text-primary"},"NO Contacts found in firebase"),c.a.createElement(U.a,{className:"fab icon ",onClick:function(){a({type:"CONTACT_TO_UPDATE",payload:null,key:null}),l.push("/contact/add")}}))},L=a(78),P=a(79),G=a(80),R=function(){return c.a.createElement(L.a,{color:"info",light:!0},c.a.createElement(P.a,{tag:p.b,to:"/",className:"text-white"},"SOM Contact App"),c.a.createElement(G.a,{className:"text-white float-right"},"A simple Contact app"))},B=function(){return c.a.createElement("footer",{className:"bg-info text-center pt-3 pb-2 mt-5 sticky-bottom"},"A simple Contact App")},K=a(81),V=a(82),M=a(83),J=a(84),X=function(){var e=Object(n.useContext)(k).state.contact;return c.a.createElement(u.a,null,c.a.createElement(g.a,{className:"mt-5 mb-5"},c.a.createElement(y.a,{md:"5",className:"offset-md-3"},c.a.createElement(K.a,{className:"pt-3 pb-5"},c.a.createElement(V.a,{className:"text-center "},c.a.createElement("img",{height:"150",width:"150",className:"cardImg profile border-danger",src:null===e||void 0===e?void 0:e.picture}),c.a.createElement(M.a,{className:"text-primary mt-3"},c.a.createElement("h1",null,null===e||void 0===e?void 0:e.name)),c.a.createElement(J.a,null,c.a.createElement("h3",null,c.a.createElement(_.c,{className:"mr-2"}),null===e||void 0===e?void 0:e.phoneNumber)),c.a.createElement("a",{className:"btn btn-primary btn-block",target:"_blank",href:"mailto:{contact?.email}"},c.a.createElement(_.a,{className:"icon mr-2"}),null===e||void 0===e?void 0:e.email),c.a.createElement("a",{className:"btn btn-primary btn-block",target:"_blank",href:"https://maps.google.com/?=".concat(null===e||void 0===e?void 0:e.address)},c.a.createElement(_.b,{className:"icon mr-2"}),null===e||void 0===e?void 0:e.address))))))},q=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"404 page not found"))},z=a(23),W=function(e,t){switch(t.type){case"SET_CONTACT":return null==t.payload?Object(z.a)({},e,{contacts:[]}):Object(z.a)({},e,{contacts:t.payload});case"SET_LOADING":return Object(z.a)({},e,{isLoading:t.payload});case"CONTACT_TO_UPDATE":return Object(z.a)({},e,{contactToUpdate:t.payload,contactToUpdateKey:t.key});case"SET_SINGLE_CONTACT":return Object(z.a)({},e,{contact:t.payload});default:return e}};h.a.initializeApp({apiKey:"AIzaSyDVakR7tqasNu461h_5w-p04V_exD5CcPs",authDomain:"contact-app-8888a.firebaseapp.com",databaseURL:"https://contact-app-8888a-default-rtdb.firebaseio.com",projectId:"contact-app-8888a",storageBucket:"contact-app-8888a.appspot.com",messagingSenderId:"507006719087",appId:"1:507006719087:web:5ec6a89c199a2b0da7699a",measurementId:"G-XVB20NJMLX"});var F={contacts:[],contact:{},contactToUpdate:null,contactToUpdateKey:null,isLoading:!1},H=function(){var e=Object(n.useReducer)(W,F),t=Object(m.a)(e,2),a=t[0],r=t[1],o=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"SET_LOADING",payload:!0}),console.log("AIzaSyDVakR7tqasNu461h_5w-p04V_exD5CcPs"),console.log("contact-app-8888a.firebaseapp.com"),console.log("https://contact-app-8888a-default-rtdb.firebaseio.com"),console.log("contact-app-8888a"),console.log("contact-app-8888a.appspot.com"),console.log("507006719087"),console.log("1:507006719087:web:5ec6a89c199a2b0da7699a"),console.log("G-XVB20NJMLX"),e.next=11,h.a.database().ref("/contacts");case 11:e.sent.on("value",(function(e){r({type:"SET_CONTACT",payload:e.val()}),r({type:"SET_LOADING",payload:!1})}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),c.a.createElement(p.a,null,c.a.createElement(k.Provider,{value:{state:a,dispatch:r}},c.a.createElement(b.a,null),c.a.createElement(R,null),c.a.createElement(u.a,null,c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/contact/add",component:w}),c.a.createElement(d.a,{exact:!0,path:"/contact/view",component:X}),c.a.createElement(d.a,{exact:!0,path:"/",component:I}),c.a.createElement(d.a,{exact:!0,path:"*",component:q}))),c.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.6a3fe476.chunk.js.map